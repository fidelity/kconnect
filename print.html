<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>kconnect - The Kubernetes Connection Manager CLI</title>
        
        <meta name="robots" content="noindex" />
        
        


        <!-- Custom HTML head -->
        <link
  href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:ital,wght@0,400;0,700;1,400;1,700&family=Lato:ital,wght@0,400;0,700;1,400;1,700&display=swap"
  rel="stylesheet">


        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        
        
        <link rel="shortcut icon" href="favicon.png">
        
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        
        <link rel="stylesheet" href="fonts/fonts.css">
        

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="introduction.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li class="chapter-item expanded "><a href="installation.html"><strong aria-hidden="true">2.</strong> Installation</a></li><li class="chapter-item expanded "><a href="getting-started.html"><strong aria-hidden="true">3.</strong> Getting Started</a></li><li class="chapter-item expanded "><a href="commands/index.html"><strong aria-hidden="true">4.</strong> Commands</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="commands/alias.html"><strong aria-hidden="true">4.1.</strong> alias</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="commands/alias_add.html"><strong aria-hidden="true">4.1.1.</strong> add</a></li><li class="chapter-item expanded "><a href="commands/alias_ls.html"><strong aria-hidden="true">4.1.2.</strong> ls</a></li><li class="chapter-item expanded "><a href="commands/alias_remove.html"><strong aria-hidden="true">4.1.3.</strong> remove</a></li></ol></li><li class="chapter-item expanded "><a href="commands/config.html"><strong aria-hidden="true">4.2.</strong> config</a></li><li class="chapter-item expanded "><a href="commands/ls.html"><strong aria-hidden="true">4.3.</strong> ls</a></li><li class="chapter-item expanded "><a href="commands/to.html"><strong aria-hidden="true">4.4.</strong> to</a></li><li class="chapter-item expanded "><a href="commands/use.html"><strong aria-hidden="true">4.5.</strong> use</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="commands/use_aks.html"><strong aria-hidden="true">4.5.1.</strong> aks</a></li><li class="chapter-item expanded "><a href="commands/use_eks.html"><strong aria-hidden="true">4.5.2.</strong> eks</a></li><li class="chapter-item expanded "><a href="commands/use_rancher.html"><strong aria-hidden="true">4.5.3.</strong> rancher</a></li><li class="chapter-item expanded "><a href="commands/use_oidc.html"><strong aria-hidden="true">4.5.4.</strong> oidc</a></li></ol></li><li class="chapter-item expanded "><a href="commands/version.html"><strong aria-hidden="true">4.6.</strong> version</a></li></ol></li><li class="chapter-item expanded "><a href="release.html"><strong aria-hidden="true">5.</strong> Releasing kconnect</a></li><li class="chapter-item expanded "><a href="contributing.html"><strong aria-hidden="true">6.</strong> Contributing</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        
                    </div>

                    <h1 class="menu-title">kconnect - The Kubernetes Connection Manager CLI</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        
                        <a href="https://github.com/fidelity/kconnect" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <p><img src="https://img.shields.io/github/issues/fidelity/kconnect" alt="GitHub issues" />
<a href="https://opensource.org/licenses/Apache-2.0"><img src="https://img.shields.io/badge/License-Apache%202.0-blue.svg" alt="License" /></a>
<a href="https://goreportcard.com/report/github.com/fidelity/kconnect"><img src="https://goreportcard.com/badge/github.com/fidelity/kconnect" alt="Go Report Card" /></a></p>
<h2><a class="header" href="#what-is-kconnect" id="what-is-kconnect">What is kconnect?</a></h2>
<p>kconnect is a CLI utility that can be used to discover and securely access Kubernetes clusters across multiple operating environments.</p>
<p>Based on the authentication mechanism chosen the CLI will discover Kubernetes clusters you are allowed to access in a target hosting environment (i.e. EKS, AKS, Rancher) and generate a kubeconfig for a chosen cluster.</p>
<p><strong>Currently supported platforms: EKS, AKS, Rancher</strong></p>
<img src="docs/book/src/images/kconnectfrontpage.gif" alt="kconnect demo">
<h2><a class="header" href="#features" id="features">Features</a></h2>
<ul>
<li>Authenticate using SAML, Azure Active Directory, AWS IAM, Rancher Token</li>
<li>Discover clusters in EKS, AKS and Rancher</li>
<li>Generate a kubeconfig for a cluster</li>
<li>Query history of connected servers</li>
<li>Regenerate the kubeconfig from your history by using an id or an alias</li>
<li>Import defaults values for your company</li>
</ul>
<h2><a class="header" href="#documentation" id="documentation">Documentation</a></h2>
<p>For installation, getting started and other documentation head over to the <a href="https://fidelity.github.io/kconnect/">projects documentation site</a> or look in the <a href="/docs">/docs</a> directory.</p>
<h2><a class="header" href="#contributions" id="contributions">Contributions</a></h2>
<p>Contributions are very welcome. Please read the <a href="CONTRIBUTING.html">contributing guide</a> or see the docs.</p>
<h2><a class="header" href="#acknowledgements" id="acknowledgements">Acknowledgements</a></h2>
<p>For the SAML identity provider we rely heavily on the <a href="https://github.com/Versent/saml2aws">saml2aws</a> project by Versent. For the Azure AD provider we have taken inspiration from the <a href="https://github.com/AzureAD/microsoft-authentication-library-for-go">Microsoft Authentication Library for Go</a> and have directly used their wstrust package (see <a href="pkg/azure/wstrust">pkg/azure/wstrust</a>).</p>
<p>Thanks to both these projects for making the implementation easier.</p>
<h1><a class="header" href="#installation" id="installation">Installation</a></h1>
<ul>
<li><a href="installation.html#mac">Mac OSX</a></li>
<li><a href="installation.html#linux">Linux</a></li>
<li><a href="installation.html#windows">Windows</a></li>
<li><a href="installation.html#docker">Docker</a></li>
</ul>
<p><em>NOTE:</em> <code>kconnect</code> requires <a href="https://kubernetes.io/docs/tasks/tools/install-kubectl">kubectl</a> for k8s cluster cli interaction.</p>
<p><em>NOTE:</em> <code>kconnect</code> requires <a href="https://github.com/kubernetes-sigs/aws-iam-authenticator">aws-iam-authenticator</a> for authentication to AWS EKS clusters.</p>
<p><em>NOTE:</em> <code>kconnect</code> requires <a href="https://github.com/Azure/kubelogin">kubelogin</a> for non-interactive authentication to Azure AKS clusters.</p>
<p><em>NOTE:</em> <code>kconnect</code> requires <a href="https://github.com/Azure/azure-cli">az cli</a> for interactive authentication to Azure AKS clusters.</p>
<p><em>NOTE:&gt;</em> For specific tested and pinned versions, use the <code>install-kconnect.sh</code> script or the <code>with-deps</code> docker image</p>
<h2><a class="header" href="#kubectl-plugin" id="kubectl-plugin">kubectl plugin</a></h2>
<p>To install as a kubectl plugin:</p>
<pre><code class="language-bash">kubectl krew index add fidelity https://github.com/fidelity/krew-index.git
kubectl krew install fidelity/connect
</code></pre>
<p>You can then run like so:</p>
<pre><code class="language-bash">kubectl connect use eks
</code></pre>
<h2><a class="header" href="#mac" id="mac">Mac</a></h2>
<p>To install on OSX you can use homebrew:</p>
<pre><code class="language-bash">brew install fidelity/tap/kconnect
</code></pre>
<p>Alternatively you can download a binary from the latest <a href="https://github.com/fidelity/kconnect/releases">release</a>.</p>
<h2><a class="header" href="#linux" id="linux">Linux</a></h2>
<p>To install on Linux you can use homebrew:</p>
<pre><code class="language-bash">brew install fidelity/tap/kconnect
</code></pre>
<p>Alternatively, the latest <a href="https://github.com/fidelity/kconnect/releases">release</a> contains <strong>.deb</strong>, <strong>.rpm</strong> and binaries for Linux.</p>
<p>We are working on publishing as a snap.</p>
<h2><a class="header" href="#windows" id="windows">Windows</a></h2>
<p>The latest <a href="https://github.com/fidelity/kconnect/releases">release</a> contains a binary for Windows.</p>
<p>We have an open issue to support chocolatey in the future.</p>
<h2><a class="header" href="#docker" id="docker">Docker</a></h2>
<p>You can also use kconnect via Docker by using the images we publish to Docker Hub:</p>
<pre><code class="language-bash">docker pull docker.io/kconnectcli/kconnect:latest
docker run -it --rm -v ~/.kconnect:/.kconnect kconnect:latest use eks --idp-protocol saml
</code></pre>
<h2><a class="header" href="#install-script" id="install-script">Install script</a></h2>
<p>You can install kconnect, along with kubectl, helm and aws-iam-authenticator by running:</p>
<pre><code class="language-bash">curl -fsSL -o install-kconnect.sh https://raw.githubusercontent.com/fidelity/kconnect/main/scripts/install-kconnect.sh
chmod 700 install-kconnect.sh
./install-kconnect.sh
</code></pre>
<p>This works on Linux, macOS and Windows (using GitBash terminal)</p>
<h1><a class="header" href="#getting-started" id="getting-started">Getting started</a></h1>
<p>Once you have <a href="installation.html">installed</a> kconnect you can see a list of the commands available by running:</p>
<pre><code class="language-bash">kconnect help
</code></pre>
<p><em>NOTE:</em> <code>kconnect</code> requires:</p>
<ul>
<li><a href="https://github.com/kubernetes-sigs/aws-iam-authenticator">aws-iam-authenticator</a> to authenticate to AWS EKS clusters.</li>
<li><a href="https://github.com/Azure/kubelogin">kubelogin</a> to authenticate to Azure AKS clusters.</li>
</ul>
<p>The general workflow for using kconnect is the following:</p>
<ul>
<li><code>kconnect configure</code> - import configuration that contains defaults for your organisation - <strong>1 time</strong></li>
<li><code>kconnect use</code> - connect to a cluster for the first time - <strong>only the first time</strong></li>
<li><code>kconnect to</code> - use to reconnect to a cluster that you have already connected to - <strong>most used command day-to-day</strong></li>
</ul>
<h2><a class="header" href="#creating-and-importing-configuration" id="creating-and-importing-configuration">Creating and importing configuration</a></h2>
<p>Before using <code>kconnect</code> to connect to a Kubernetes cluster you may want to import an identity provider configuration with your (or your organisations) defaults so that you don’t have to supply all connection settings each time you connect to a new cluster.</p>
<p>You will need to create a configuration file (see example <a href="https://github.com/fidelity/kconnect/blob/main/examples/config.yaml">here</a>). The configuration file can be imported from a local file or remote location via HTTP/HTTPS (and from stdin).</p>
<p>Each new user in your organization can then import the default configurations in this file using the <code>kconnect configure</code> command with the <code>-f</code> flag:</p>
<pre><code class="language-bash">kconnect configure -f https://raw.githubusercontent.com/fidelity/kconnect/main/examples/config.yaml
</code></pre>
<p>Once the user has created their local configuration file, they should be able to display their configuration settings.</p>
<pre><code class="language-bash">kconnect configure
</code></pre>
<h2><a class="header" href="#first-time-connection-to-a-cluster" id="first-time-connection-to-a-cluster">First time connection to a cluster</a></h2>
<p>When discovering and connecting to a cluster for the first time you can do the following:</p>
<pre><code class="language-bash">kconnect use eks --idp-protocol saml
</code></pre>
<p>This will guide you interactively setting the flags and selecting a cluster. It also gives you the option to set an easy-to-remember alias.</p>
<p>NOTE: only saml is supported at present for IdP.</p>
<h2><a class="header" href="#reconnecting-to-a-cluster" id="reconnecting-to-a-cluster">Reconnecting to a cluster</a></h2>
<p>If you’ve previously connected to a cluster you can reconnect to it using the alias (if you set one):</p>
<pre><code class="language-bash">kconnect to dev-bu-1
</code></pre>
<p>Or using the history id (which can be found by using <code>kconnect ls</code>):</p>
<pre><code class="language-bash">kconnect to 01EM615GB2YX3C6WZ9MCWBDWBF
</code></pre>
<h2><a class="header" href="#setting-flags" id="setting-flags">Setting Flags</a></h2>
<p>Flags can be replaced with environment variables by following the format <code>UPPERCASED_SNAKE_CASE</code> and appending to the <code>KCONNECT_</code> prefix.</p>
<p>For example <code>--username</code> can be set as <code>KCONNECT_USERNAME</code>; or <code>--idp-protocol</code> as <code>KCONNECT_IDP_PROTOCOL</code>.</p>
<h2><a class="header" href="#kconnect" id="kconnect">kconnect</a></h2>
<p>The Kubernetes Connection Manager CLI</p>
<h3><a class="header" href="#synopsis" id="synopsis">Synopsis</a></h3>
<p>The kconnect tool uses a pre-configured Identity Provider to log in to one or
more managed Kubernetes cluster providers, discovers the list of clusters
visible to your authenticated user and options, and generates a kubectl
configutation context for the selected cluster.</p>
<p>Most kubectl contexts include an authentication token which kubectl sends to
Kubernetes with each request rather than a username and password to establish
your identity.  Authentication tokens typically expire after some time.  The
user must then to log in again to the managed Kubernetes service provider and
regenerate the kubectl context for that cluster connection in order to refresh
the access token.</p>
<p>The kconnect tool makes this much easier by automating the login and kubectl
context regeneration process, and by allowing the user to repeat previously
successful connections.</p>
<p>Each time kconnect creates a new connection context, the kconnect tool saves the
information for that connection in the user’s connection history list.  The user
can then display their connection history entries and reconnect to any entry by
its unique ID (or by a user-friendly alias) to refresh an expired access token
for that cluster.</p>
<pre><code class="language-bash">kconnect [flags]
</code></pre>
<h3><a class="header" href="#examples" id="examples">Examples</a></h3>
<pre><code class="language-bash">
  # Display a help screen with kconnect commands.
  kconnect help

  # Configure the default identity provider and connection profile for your user.
  #
  # Use this command to set up kconnect the first time you use it on a new system.
  #
  kconnect config -f FILE_OR_URL

  # Create a kubectl confirguration context for an AWS EKS cluster.
  #
  # Use this command the first time you connect to a new cluster or a new context.
  #
  kconnect use eks

  # Display connection history entries.
  #
  kconnect ls

  # Add an alias to a connection history entry.
  #
  kconnect alias add --id 012EX456834AFXR0F2NZT68RPKD --alias MYALIAS

  # Reconnect and refresh the token for an aliased connection history entry.
  #
  # Use this to reconnect to a provider and refresh an expired access token.
  #
  kconnect to MYALIAS

  # Display connection history entry aliases.
  #
  kconnect alias ls

</code></pre>
<h3><a class="header" href="#options" id="options">Options</a></h3>
<pre><code class="language-bash">      --config string      Configuration file for application wide defaults. (default &quot;$HOME/.kconnect/config.yaml&quot;)
  -h, --help               help for kconnect
      --no-input           Explicitly disable interactivity when running in a terminal
      --no-version-check   If set to true kconnect will not check for a newer version
  -v, --verbosity int      Sets the logging verbosity. Greater than 0 is debug and greater than 9 is trace.
</code></pre>
<h3><a class="header" href="#see-also" id="see-also">SEE ALSO</a></h3>
<ul>
<li><a href="commands/alias.html">kconnect alias</a>	 - Query and manipulate connection history entry aliases.</li>
<li><a href="commands/config.html">kconnect config</a>	 - Set and view your kconnect configuration.</li>
<li><a href="commands/history.html">kconnect history</a>	 - Import and export history</li>
<li><a href="commands/logout.html">kconnect logout</a>	 - Logs out of a cluster</li>
<li><a href="commands/ls.html">kconnect ls</a>	 - Query the user’s connection history</li>
<li><a href="commands/to.html">kconnect to</a>	 - Reconnect to a connection history entry.</li>
<li><a href="commands/use.html">kconnect use</a>	 - Connect to a Kubernetes cluster provider and cluster.</li>
<li><a href="commands/version.html">kconnect version</a>	 - Display version &amp; build information</li>
</ul>
<blockquote>
<p>NOTE: this page is auto-generated from the cobra commands</p>
</blockquote>
<h2><a class="header" href="#kconnect-alias" id="kconnect-alias">kconnect alias</a></h2>
<p>Query and manipulate connection history entry aliases.</p>
<h3><a class="header" href="#synopsis-1" id="synopsis-1">Synopsis</a></h3>
<p>An alias is a user-friendly name for a connection history entry, otherwise
referred to by its entry ID.</p>
<p>The alias command and sub-commands allow you to query and manipulate aliases for
connection history entries.</p>
<pre><code class="language-bash">kconnect alias [flags]
</code></pre>
<h3><a class="header" href="#examples-1" id="examples-1">Examples</a></h3>
<pre><code class="language-bash">
  # Add an alias to an existing connection history entry
  kconnect alias add --id 123456 --alias appdev

  # List available connection history entry aliases
  kconnect alias ls

  # Remove an alias from a connection history entry
  kconnect alias remove --alias appdev

</code></pre>
<h3><a class="header" href="#options-1" id="options-1">Options</a></h3>
<pre><code class="language-bash">  -h, --help                      help for alias
      --history-location string   Location of where the history is stored. (default &quot;$HOME/.kconnect/history.yaml&quot;)
</code></pre>
<h3><a class="header" href="#options-inherited-from-parent-commands" id="options-inherited-from-parent-commands">Options inherited from parent commands</a></h3>
<pre><code class="language-bash">      --config string      Configuration file for application wide defaults. (default &quot;$HOME/.kconnect/config.yaml&quot;)
      --no-input           Explicitly disable interactivity when running in a terminal
      --no-version-check   If set to true kconnect will not check for a newer version
  -v, --verbosity int      Sets the logging verbosity. Greater than 0 is debug and greater than 9 is trace.
</code></pre>
<h3><a class="header" href="#see-also-1" id="see-also-1">SEE ALSO</a></h3>
<ul>
<li><a href="commands/index.html">kconnect</a>	 - The Kubernetes Connection Manager CLI</li>
<li><a href="commands/alias_add.html">kconnect alias add</a>	 - Add an alias to a connection history entry</li>
<li><a href="commands/alias_ls.html">kconnect alias ls</a>	 - List all the aliases currently defined</li>
<li><a href="commands/alias_remove.html">kconnect alias remove</a>	 - Remove connection history entry aliases.</li>
</ul>
<blockquote>
<p>NOTE: this page is auto-generated from the cobra commands</p>
</blockquote>
<h2><a class="header" href="#kconnect-alias-add" id="kconnect-alias-add">kconnect alias add</a></h2>
<p>Add an alias to a connection history entry</p>
<h3><a class="header" href="#synopsis-2" id="synopsis-2">Synopsis</a></h3>
<p>Adds a user-friendly alias to a connection history entry.</p>
<p>The user can then reconnect and refresh the access token for that cluster using
the alias instead of the connection history entry’s unique ID.</p>
<pre><code class="language-bash">kconnect alias add [flags]
</code></pre>
<h3><a class="header" href="#examples-2" id="examples-2">Examples</a></h3>
<pre><code class="language-bash">
  # Add an alias to a connection history entry
  kconnect alias add --id 01EMEM5DB60TMX7D8SS2JCX3MT --alias dev-bu-1

  # Connect to a cluster using the alias
  kconnect to dev-bu-1

  # List available aliases
  kconnect alias ls

  # List available history entries - includes aliases
  kconnect ls

</code></pre>
<h3><a class="header" href="#options-2" id="options-2">Options</a></h3>
<pre><code class="language-bash">      --alias string   Alias name for a history entry
  -h, --help           help for add
      --id string      Id for a history entry
</code></pre>
<h3><a class="header" href="#options-inherited-from-parent-commands-1" id="options-inherited-from-parent-commands-1">Options inherited from parent commands</a></h3>
<pre><code class="language-bash">      --config string             Configuration file for application wide defaults. (default &quot;$HOME/.kconnect/config.yaml&quot;)
      --history-location string   Location of where the history is stored. (default &quot;$HOME/.kconnect/history.yaml&quot;)
      --no-input                  Explicitly disable interactivity when running in a terminal
      --no-version-check          If set to true kconnect will not check for a newer version
  -v, --verbosity int             Sets the logging verbosity. Greater than 0 is debug and greater than 9 is trace.
</code></pre>
<h3><a class="header" href="#see-also-2" id="see-also-2">SEE ALSO</a></h3>
<ul>
<li><a href="commands/alias.html">kconnect alias</a>	 - Query and manipulate connection history entry aliases.</li>
</ul>
<blockquote>
<p>NOTE: this page is auto-generated from the cobra commands</p>
</blockquote>
<h2><a class="header" href="#kconnect-alias-ls" id="kconnect-alias-ls">kconnect alias ls</a></h2>
<p>List all the aliases currently defined</p>
<h3><a class="header" href="#synopsis-3" id="synopsis-3">Synopsis</a></h3>
<p>List all the aliases currently defined for connection history entries in the
user’s connection history.</p>
<p>An alias is a user-friendly name for a connection history entry.</p>
<pre><code class="language-bash">kconnect alias ls [flags]
</code></pre>
<h3><a class="header" href="#examples-3" id="examples-3">Examples</a></h3>
<pre><code class="language-bash">
  # Display all the aliases as a table
  kconnect alias ls

  # Display all connection history entry aliases as a table
  kconnect alias ls

  # Display all connection history entry aliases as json
  kconnect alias ls --output json

  # Connect to a cluster using a connection history entry alias
  kconnect to ${alias}

  # List all connection history entries as a table - includes aliases
  kconnect ls

</code></pre>
<h3><a class="header" href="#options-3" id="options-3">Options</a></h3>
<pre><code class="language-bash">  -h, --help            help for ls
      --output string   Output format for the results (default &quot;table&quot;)
</code></pre>
<h3><a class="header" href="#options-inherited-from-parent-commands-2" id="options-inherited-from-parent-commands-2">Options inherited from parent commands</a></h3>
<pre><code class="language-bash">      --config string             Configuration file for application wide defaults. (default &quot;$HOME/.kconnect/config.yaml&quot;)
      --history-location string   Location of where the history is stored. (default &quot;$HOME/.kconnect/history.yaml&quot;)
      --no-input                  Explicitly disable interactivity when running in a terminal
      --no-version-check          If set to true kconnect will not check for a newer version
  -v, --verbosity int             Sets the logging verbosity. Greater than 0 is debug and greater than 9 is trace.
</code></pre>
<h3><a class="header" href="#see-also-3" id="see-also-3">SEE ALSO</a></h3>
<ul>
<li><a href="commands/alias.html">kconnect alias</a>	 - Query and manipulate connection history entry aliases.</li>
</ul>
<blockquote>
<p>NOTE: this page is auto-generated from the cobra commands</p>
</blockquote>
<h2><a class="header" href="#kconnect-alias-remove" id="kconnect-alias-remove">kconnect alias remove</a></h2>
<p>Remove connection history entry aliases.</p>
<h3><a class="header" href="#synopsis-4" id="synopsis-4">Synopsis</a></h3>
<p>Remove an alias from a single connection history entry by the entry ID or the
alias.</p>
<p>Set the --all flag on this command to remove all connection history aliases from
the user’s connection history.</p>
<pre><code class="language-bash">kconnect alias remove [flags]
</code></pre>
<h3><a class="header" href="#examples-4" id="examples-4">Examples</a></h3>
<pre><code class="language-bash">
  # Remove an alias using the alias name
  kconnect alias remove --alias dev-bu-1

  # Remove an alias using a histiry entry id
  kconnect alias remove --id 01EMEM5DB60TMX7D8SS2JCX3MT

  # Remove all aliases
  kconnect alias remove --all

  # List available aliases
  kconnect alias ls

  # Query your connection history - includes aliases
  kconnect ls

</code></pre>
<h3><a class="header" href="#options-4" id="options-4">Options</a></h3>
<pre><code class="language-bash">      --alias string   Alias name for a history entry
      --all            Remove all aliases from the histiry entries
  -h, --help           help for remove
      --id string      Id for a history entry
</code></pre>
<h3><a class="header" href="#options-inherited-from-parent-commands-3" id="options-inherited-from-parent-commands-3">Options inherited from parent commands</a></h3>
<pre><code class="language-bash">      --config string             Configuration file for application wide defaults. (default &quot;$HOME/.kconnect/config.yaml&quot;)
      --history-location string   Location of where the history is stored. (default &quot;$HOME/.kconnect/history.yaml&quot;)
      --no-input                  Explicitly disable interactivity when running in a terminal
      --no-version-check          If set to true kconnect will not check for a newer version
  -v, --verbosity int             Sets the logging verbosity. Greater than 0 is debug and greater than 9 is trace.
</code></pre>
<h3><a class="header" href="#see-also-4" id="see-also-4">SEE ALSO</a></h3>
<ul>
<li><a href="commands/alias.html">kconnect alias</a>	 - Query and manipulate connection history entry aliases.</li>
</ul>
<blockquote>
<p>NOTE: this page is auto-generated from the cobra commands</p>
</blockquote>
<h2><a class="header" href="#kconnect-config" id="kconnect-config">kconnect config</a></h2>
<p>Set and view your kconnect configuration.</p>
<h3><a class="header" href="#synopsis-5" id="synopsis-5">Synopsis</a></h3>
<p>The configure command creates kconnect configuration files and displays
previously-defined configurations in a user-friendly display format.</p>
<p>If run with no flags, the command displays the configurations stored in the
current user’s $HOME/.kconnect/config.yaml file.</p>
<p>The configure command can create a set of default configurations for a new
system or a new user via the -f flag and a local filename or remote URL.</p>
<p>The user typically only needs to use this command the first time they use
kconnect.</p>
<pre><code class="language-bash">kconnect config [flags]
</code></pre>
<h3><a class="header" href="#examples-5" id="examples-5">Examples</a></h3>
<pre><code class="language-bash">
  # Display user's current configurations
  kconnect config

  # Display the user's configurations as json
  kconnect config --output json

  # Set the user's configurations from a local file
  kconnect config -f ./defaults.yaml

  # Set the user's configurations from a remote location via HTTP
  kconnect config -f https://mycompany.com/config.yaml

  # Set the user's configurations from stdin
  cat ./config.yaml | kconnect config -f -

</code></pre>
<h3><a class="header" href="#options-5" id="options-5">Options</a></h3>
<pre><code class="language-bash">  -f, --file string       File or remote location to use to set the default configuration
  -h, --help              help for config
      --output string     Controls the output format for the result. (default &quot;yaml&quot;)
      --password string   The password used for authentication
      --username string   The username used for authentication
</code></pre>
<h3><a class="header" href="#options-inherited-from-parent-commands-4" id="options-inherited-from-parent-commands-4">Options inherited from parent commands</a></h3>
<pre><code class="language-bash">      --config string      Configuration file for application wide defaults. (default &quot;$HOME/.kconnect/config.yaml&quot;)
      --no-input           Explicitly disable interactivity when running in a terminal
      --no-version-check   If set to true kconnect will not check for a newer version
  -v, --verbosity int      Sets the logging verbosity. Greater than 0 is debug and greater than 9 is trace.
</code></pre>
<h3><a class="header" href="#see-also-5" id="see-also-5">SEE ALSO</a></h3>
<ul>
<li><a href="commands/index.html">kconnect</a>	 - The Kubernetes Connection Manager CLI</li>
</ul>
<blockquote>
<p>NOTE: this page is auto-generated from the cobra commands</p>
</blockquote>
<h2><a class="header" href="#kconnect-ls" id="kconnect-ls">kconnect ls</a></h2>
<p>Query the user’s connection history</p>
<h3><a class="header" href="#synopsis-6" id="synopsis-6">Synopsis</a></h3>
<p>Query and display the user’s connection history entries, including entry IDs and
aliases.</p>
<p>Each time kconnect creates a new kubectl context to connect to a Kubernetes
cluster, it saves the settings for the new connection as an entry in the user’s
connection history.  The user can then reconnect using those same settings later
via the connection history entry’s ID or alias.</p>
<pre><code class="language-bash">kconnect ls [flags]
</code></pre>
<h3><a class="header" href="#examples-6" id="examples-6">Examples</a></h3>
<pre><code class="language-bash">
  # Display all connection history entries as a table
  kconnect ls

  # Display all connection history entries as YAML
  kconnect ls --output yaml

  # Display a specific connection history entry by entry id
  kconnect ls --filter id=01EM615GB2YX3C6WZ9MCWBDWBF

  # Display a specific connection history entry by its alias
  kconnect ls --filter alias=mydev

  # Display all connection history entries that have &quot;dev&quot; in its alias
  kconnect ls --filter alias=*dev*

  # Display all connection history entries for the EKS managed cluster provider
  kconnect ls --filter cluster-provider=eks

  # Display all connection history entries for entries with namespace kube-system
  kconnect ls --filter namespace=kube-system

  # Reconnect using the connection history entry alias
  kconnect to mydev

</code></pre>
<h3><a class="header" href="#options-6" id="options-6">Options</a></h3>
<pre><code class="language-bash">      --filter string             filter to apply to import. Can specify multiple filters by using commas, and supports wilcards (*)
  -h, --help                      help for ls
      --history-location string   Location of where the history is stored. (default &quot;$HOME/.kconnect/history.yaml&quot;)
  -k, --kubeconfig string         Location of the kubeconfig to use. (default &quot;$HOME/.kube/config&quot;)
      --max-history int           Sets the maximum number of history items to keep (default 100)
      --no-history                If set to true then no history entry will be written
  -o, --output string             Output format for the results (default &quot;table&quot;)
</code></pre>
<h3><a class="header" href="#options-inherited-from-parent-commands-5" id="options-inherited-from-parent-commands-5">Options inherited from parent commands</a></h3>
<pre><code class="language-bash">      --config string      Configuration file for application wide defaults. (default &quot;$HOME/.kconnect/config.yaml&quot;)
      --no-input           Explicitly disable interactivity when running in a terminal
      --no-version-check   If set to true kconnect will not check for a newer version
  -v, --verbosity int      Sets the logging verbosity. Greater than 0 is debug and greater than 9 is trace.
</code></pre>
<h3><a class="header" href="#see-also-6" id="see-also-6">SEE ALSO</a></h3>
<ul>
<li><a href="commands/index.html">kconnect</a>	 - The Kubernetes Connection Manager CLI</li>
</ul>
<blockquote>
<p>NOTE: this page is auto-generated from the cobra commands</p>
</blockquote>
<h2><a class="header" href="#kconnect-to" id="kconnect-to">kconnect to</a></h2>
<p>Reconnect to a connection history entry.</p>
<h3><a class="header" href="#synopsis-7" id="synopsis-7">Synopsis</a></h3>
<p>Reconnect to a cluster in the connection history by its entry ID or alias.</p>
<p>The kconnect tool creates an entry in the user’s connection history with all the
connection settings each time it generates a new kubectl configuration context
for a Kubernetes cluster.  The user can then reconnect to the same cluster and
refresh their access token or regenerate the kubectl configuration context using
the connection history entry’s ID or alias.</p>
<p>The to command also accepts - or LAST as proxy references to the most recent
connection history entry, or LAST~N for the Nth previous entry.</p>
<p>Although kconnect does not save the user’s password in the connection history,
the user can avoid having to enter their password interactively by setting the
KCONNECT_PASSWORD environment variable or the --password command-line flag.
Otherwise kconnect will promot the user to enter their password.</p>
<pre><code class="language-bash">kconnect to [historyid/alias/-/LAST/LAST~N] [flags]
</code></pre>
<h3><a class="header" href="#examples-7" id="examples-7">Examples</a></h3>
<pre><code class="language-bash">
  # Reconnect based on an alias - aliases can be found using kconnect ls
  kconnect to uat-bu1

  # Reconnect based on an history id - history id can be found using kconnect ls
  kconnect to 01EM615GB2YX3C6WZ9MCWBDWBF

  # Reconnect interactively from history list
  kconnect to

  # Reconnect to current cluster (this is useful for renewing credentials)
  kconnect to -
  OR
  kconnect to LAST

  # Reconnect to cluster used before current one
  kconnect to LAST~1

  # Reconnect based on an alias supplying a password
  kconnect to uat-bu1 --password supersecret

  # Reconnect based on an alias supplying a password via env var
  KCONNECT_PASSWORD=supersecret kconnect to uat-bu2
 
</code></pre>
<h3><a class="header" href="#options-7" id="options-7">Options</a></h3>
<pre><code class="language-bash">  -h, --help                      help for to
      --history-location string   Location of where the history is stored. (default &quot;$HOME/.kconnect/history.yaml&quot;)
  -k, --kubeconfig string         Location of the kubeconfig to use. (default &quot;$HOME/.kube/config&quot;)
      --password string           Password to use
      --set-current               Sets the current context in the kubeconfig to the selected cluster (default true)
</code></pre>
<h3><a class="header" href="#options-inherited-from-parent-commands-6" id="options-inherited-from-parent-commands-6">Options inherited from parent commands</a></h3>
<pre><code class="language-bash">      --config string      Configuration file for application wide defaults. (default &quot;$HOME/.kconnect/config.yaml&quot;)
      --no-input           Explicitly disable interactivity when running in a terminal
      --no-version-check   If set to true kconnect will not check for a newer version
  -v, --verbosity int      Sets the logging verbosity. Greater than 0 is debug and greater than 9 is trace.
</code></pre>
<h3><a class="header" href="#see-also-7" id="see-also-7">SEE ALSO</a></h3>
<ul>
<li><a href="commands/index.html">kconnect</a>	 - The Kubernetes Connection Manager CLI</li>
</ul>
<blockquote>
<p>NOTE: this page is auto-generated from the cobra commands</p>
</blockquote>
<h2><a class="header" href="#kconnect-use" id="kconnect-use">kconnect use</a></h2>
<p>Connect to a Kubernetes cluster provider and cluster.</p>
<h3><a class="header" href="#synopsis-8" id="synopsis-8">Synopsis</a></h3>
<p>Connect to a managed Kubernetes cluster provider via the configured identity
provider, prompting the user to enter or choose connection settings appropriate
to the provider and a target cluster once connected.</p>
<p>The kconnect tool generates a kubectl configuration context with a fresh access
token to connect to the chosen cluster and adds a connection history entry to
store the chosen connection settings.  If given an alias name, kconnect will add
a user-friendly alias to the new connection history entry.</p>
<p>The user can then reconnect to the provider with the settings stored in the
connection history entry using the kconnect to command and the connection history
entry ID or alias.  When the user reconnects using a connection history entry,
kconnect regenerates the kubectl configuration context and refreshes their access
token.</p>
<p>The use command requires a target provider name as its first parameter. If no
value is supplied for --idp-protocol the first supported protocol for the
specified cluster provider.</p>
<ul>
<li>
<p>Note: interactive mode is not supported in windows git-bash application currently.</p>
</li>
<li>
<p>Note: kconnect use eks requires aws-iam-authenticator.
<a href="https://github.com/kubernetes-sigs/aws-iam-authenticator">aws-iam-authenticator</a></p>
</li>
<li>
<p>Note: kconnect use aks requires kubelogin and azure cli.
<a href="https://github.com/Azure/kubelogin">kubelogin</a>
<a href="https://github.com/Azure/azure-cli">azure-cli</a></p>
</li>
<li>
<p>Note: kconnect use oidc requires kube-oidc-login and rename to kubectl-oidc_login.
<a href="https://github.com/int128/kubelogin">kube-oidc-login</a></p>
</li>
</ul>
<pre><code class="language-bash">kconnect use [flags]
</code></pre>
<h3><a class="header" href="#examples-8" id="examples-8">Examples</a></h3>
<pre><code class="language-bash">
  # Connect to EKS and choose an available EKS cluster.
  kconnect use eks

  # Connect to an EKS cluster and create an alias for its connection history entry.
  kconnect use eks --alias mycluster

  # Reconnect to a cluster by its connection history entry alias.
  kconnect to mycluster

  # Display the user's connection history as a table.
  kconnect ls

</code></pre>
<h3><a class="header" href="#options-8" id="options-8">Options</a></h3>
<pre><code class="language-bash">  -h, --help   help for use
</code></pre>
<h3><a class="header" href="#options-inherited-from-parent-commands-7" id="options-inherited-from-parent-commands-7">Options inherited from parent commands</a></h3>
<pre><code class="language-bash">      --config string      Configuration file for application wide defaults. (default &quot;$HOME/.kconnect/config.yaml&quot;)
      --no-input           Explicitly disable interactivity when running in a terminal
      --no-version-check   If set to true kconnect will not check for a newer version
  -v, --verbosity int      Sets the logging verbosity. Greater than 0 is debug and greater than 9 is trace.
</code></pre>
<h3><a class="header" href="#see-also-8" id="see-also-8">SEE ALSO</a></h3>
<ul>
<li><a href="commands/index.html">kconnect</a>	 - The Kubernetes Connection Manager CLI</li>
<li><a href="commands/use_aks.html">kconnect use aks</a>	 - Connect to the aks cluster provider and choose a cluster.</li>
<li><a href="commands/use_eks.html">kconnect use eks</a>	 - Connect to the eks cluster provider and choose a cluster.</li>
<li><a href="commands/use_oidc.html">kconnect use oidc</a>	 - Connect to the oidc cluster provider and choose a cluster.</li>
<li><a href="commands/use_rancher.html">kconnect use rancher</a>	 - Connect to the rancher cluster provider and choose a cluster.</li>
</ul>
<blockquote>
<p>NOTE: this page is auto-generated from the cobra commands</p>
</blockquote>
<h2><a class="header" href="#kconnect-use-aks" id="kconnect-use-aks">kconnect use aks</a></h2>
<p>Connect to the aks cluster provider and choose a cluster.</p>
<h3><a class="header" href="#synopsis-9" id="synopsis-9">Synopsis</a></h3>
<p>Connect to aks via the configured identify provider, prompting the user to enter
or choose connection settings and a target cluster once connected.</p>
<p>The kconnect tool generates a kubectl configuration context with a fresh access
token to connect to the chosen cluster and adds a connection history entry to
store the chosen connection settings.  If given an alias name, kconnect will add
a user-friendly alias to the new connection history entry.</p>
<p>The user can then reconnect to the provider with the settings stored in the
connection history entry using the kconnect to command and the connection history
entry ID or alias.  When the user reconnects using a connection history entry,
kconnect regenerates the kubectl configuration context and refreshes their access
token.</p>
<ul>
<li>Note: kconnect use aks requires kubelogin and azure cli.
<a href="https://github.com/Azure/kubelogin">kubelogin</a>
<a href="https://github.com/Azure/azure-cli">azure-cli</a></li>
</ul>
<pre><code class="language-bash">kconnect use aks [flags]
</code></pre>
<h3><a class="header" href="#examples-9" id="examples-9">Examples</a></h3>
<pre><code class="language-bash">  # Discover AKS clusters using Azure AD
  kconnect use aks --idp-protocol aad

  # Discover AKS clusters using file based credentials
  export AZURE_TENANT_ID=&quot;123455&quot;
  export AZURE_CLIENT_ID=&quot;76849&quot;
  export AZURE_CLIENT_SECRET=&quot;supersecret&quot;
  kconnect use aks --idp-protocol az-env

  # Reconnect to a cluster by its connection history entry alias.
  kconnect to mycluster

  # Display the user's connection history as a table.
  kconnect ls

</code></pre>
<h3><a class="header" href="#options-9" id="options-9">Options</a></h3>
<pre><code class="language-bash">      --admin                      Generate admin user kubeconfig
  -a, --alias string               Friendly name to give to give the connection
      --azure-env string           The Azure environment the clusters are in. Possible values: public,china,usgov,stack (default &quot;public&quot;)
  -c, --cluster-id string          Id of the cluster to use.
      --cluster-name string        The name of the AKS cluster
  -h, --help                       help for aks
      --history-location string    Location of where the history is stored. (default &quot;$HOME/.kconnect/history.yaml&quot;)
      --idp-protocol string        The idp protocol to use (e.g. saml, aad). See flags additional flags for the protocol.
  -k, --kubeconfig string          Location of the kubeconfig to use. (default &quot;$HOME/.kube/config&quot;)
      --login-type string          The login method to use when connecting to the AKS cluster as a non-admin. Possible values: devicecode,spn,ropc,msi,azurecli (default &quot;devicecode&quot;)
      --max-history int            Sets the maximum number of history items to keep (default 100)
  -n, --namespace string           Sets namespace for context in kubeconfig
      --no-history                 If set to true then no history entry will be written
      --password string            The password to use for authentication
  -r, --resource-group string      The Azure resource group to use
      --server-fqdn-type string    Connect to AKS cluster via Public/Private FQDN (default &quot;public&quot;)
      --set-current                Sets the current context in the kubeconfig to the selected cluster (default true)
      --subscription-id string     The Azure subscription to use (specified by ID)
      --subscription-name string   The Azure subscription to use (specified by name)
      --username string            The username used for authentication
</code></pre>
<h3><a class="header" href="#options-inherited-from-parent-commands-8" id="options-inherited-from-parent-commands-8">Options inherited from parent commands</a></h3>
<pre><code class="language-bash">      --config string      Configuration file for application wide defaults. (default &quot;$HOME/.kconnect/config.yaml&quot;)
      --no-input           Explicitly disable interactivity when running in a terminal
      --no-version-check   If set to true kconnect will not check for a newer version
  -v, --verbosity int      Sets the logging verbosity. Greater than 0 is debug and greater than 9 is trace.
</code></pre>
<h3><a class="header" href="#idp-protocol-options" id="idp-protocol-options">IDP Protocol Options</a></h3>
<h4><a class="header" href="#aad-options" id="aad-options">AAD Options</a></h4>
<p>Use <code>--idp-protocol=aad</code></p>
<pre><code class="language-bash">      --aad-host string       The AAD host to use (default &quot;login.microsoftonline.com&quot;)
      --client-id string      The azure ad client id (default &quot;04b07795-8ddb-461a-bbee-02f9e1bf7b46&quot;)
      --idp-protocol string   The idp protocol to use (e.g. saml). Each protocol has its own flags.
      --password string       The password to use for authentication
  -t, --tenant-id string      The azure tenant id
      --username string       The username used for authentication
</code></pre>
<h4><a class="header" href="#az-env-options" id="az-env-options">AZ-ENV Options</a></h4>
<p>Use <code>--idp-protocol=az-env</code></p>
<pre><code class="language-bash">      --use-file   Use file based authorization
</code></pre>
<h3><a class="header" href="#see-also-9" id="see-also-9">SEE ALSO</a></h3>
<ul>
<li><a href="commands/use.html">kconnect use</a>	 - Connect to a Kubernetes cluster provider and cluster.</li>
</ul>
<blockquote>
<p>NOTE: this page is auto-generated from the cobra commands</p>
</blockquote>
<h2><a class="header" href="#kconnect-use-eks" id="kconnect-use-eks">kconnect use eks</a></h2>
<p>Connect to the eks cluster provider and choose a cluster.</p>
<h3><a class="header" href="#synopsis-10" id="synopsis-10">Synopsis</a></h3>
<p>Connect to eks via the configured identify provider, prompting the user to enter
or choose connection settings and a target cluster once connected.</p>
<p>The kconnect tool generates a kubectl configuration context with a fresh access
token to connect to the chosen cluster and adds a connection history entry to
store the chosen connection settings.  If given an alias name, kconnect will add
a user-friendly alias to the new connection history entry.</p>
<p>The user can then reconnect to the provider with the settings stored in the
connection history entry using the kconnect to command and the connection history
entry ID or alias.  When the user reconnects using a connection history entry,
kconnect regenerates the kubectl configuration context and refreshes their access
token.</p>
<ul>
<li>Note: kconnect use eks requires aws-iam-authenticator.
<a href="https://github.com/kubernetes-sigs/aws-iam-authenticator">aws-iam-authenticator</a></li>
</ul>
<pre><code class="language-bash">kconnect use eks [flags]
</code></pre>
<h3><a class="header" href="#examples-10" id="examples-10">Examples</a></h3>
<pre><code class="language-bash">
  # Discover EKS clusters using SAML
  kconnect use eks --idp-protocol saml

  # Discover EKS clusters using SAML with a specific role
  kconnect use eks --idp-protocol saml --role-arn arn:aws:iam::000000000000:role/KubernetesAdmin

  # Discover an EKS cluster and add an alias to its connection history entry
  kconnect use eks --alias mycluster
  
  # Reconnect to a cluster by its connection history entry alias.
  kconnect to mycluster

  # Display the user's connection history as a table.
  kconnect ls

</code></pre>
<h3><a class="header" href="#options-10" id="options-10">Options</a></h3>
<pre><code class="language-bash">  -a, --alias string                         Friendly name to give to give the connection
      --assume-role-arn string               ARN of the AWS role to be assumed
      --aws-shared-credentials-file string   Location to store AWS credentials file
  -c, --cluster-id string                    Id of the cluster to use.
  -h, --help                                 help for eks
      --history-location string              Location of where the history is stored. (default &quot;$HOME/.kconnect/history.yaml&quot;)
      --idp-protocol string                  The idp protocol to use (e.g. saml, aad). See flags additional flags for the protocol.
  -k, --kubeconfig string                    Location of the kubeconfig to use. (default &quot;$HOME/.kube/config&quot;)
      --max-history int                      Sets the maximum number of history items to keep (default 100)
  -n, --namespace string                     Sets namespace for context in kubeconfig
      --no-history                           If set to true then no history entry will be written
      --partition string                     AWS partition to use (default &quot;aws&quot;)
      --password string                      The password to use for authentication
      --region string                        AWS region to connect to
      --region-filter string                 A regex filter to apply to the AWS regions list, e.g. '^us-|^eu-' will only show US and eu regions
      --role-arn string                      ARN of the AWS role to be logged in with
      --role-filter string                   A filter to apply to the roles list, e.g. 'EKS' will only show roles that contain EKS in the name
      --set-current                          Sets the current context in the kubeconfig to the selected cluster (default true)
      --username string                      The username used for authentication
</code></pre>
<h3><a class="header" href="#options-inherited-from-parent-commands-9" id="options-inherited-from-parent-commands-9">Options inherited from parent commands</a></h3>
<pre><code class="language-bash">      --config string      Configuration file for application wide defaults. (default &quot;$HOME/.kconnect/config.yaml&quot;)
      --no-input           Explicitly disable interactivity when running in a terminal
      --no-version-check   If set to true kconnect will not check for a newer version
  -v, --verbosity int      Sets the logging verbosity. Greater than 0 is debug and greater than 9 is trace.
</code></pre>
<h3><a class="header" href="#idp-protocol-options-1" id="idp-protocol-options-1">IDP Protocol Options</a></h3>
<h4><a class="header" href="#aws-iam-options" id="aws-iam-options">AWS-IAM Options</a></h4>
<p>Use <code>--idp-protocol=aws-iam</code></p>
<pre><code class="language-bash">      --access-key string      AWS access key to use
      --partition string       AWS partition to use (default &quot;aws&quot;)
      --profile string         AWS profile to use
      --region string          AWS region to connect to
      --secret-key string      AWS secret key to use
      --session-token string   AWS session token to use
</code></pre>
<h4><a class="header" href="#saml-options" id="saml-options">SAML Options</a></h4>
<p>Use <code>--idp-protocol=saml</code></p>
<pre><code class="language-bash">      --idp-endpoint string   identity provider endpoint provided by your IT team
      --idp-provider string   the name of the idp provider
      --partition string      AWS partition to use (default &quot;aws&quot;)
      --region string         AWS region to connect to
</code></pre>
<h3><a class="header" href="#see-also-10" id="see-also-10">SEE ALSO</a></h3>
<ul>
<li><a href="commands/use.html">kconnect use</a>	 - Connect to a Kubernetes cluster provider and cluster.</li>
</ul>
<blockquote>
<p>NOTE: this page is auto-generated from the cobra commands</p>
</blockquote>
<h2><a class="header" href="#kconnect-use-rancher" id="kconnect-use-rancher">kconnect use rancher</a></h2>
<p>Connect to the rancher cluster provider and choose a cluster.</p>
<h3><a class="header" href="#synopsis-11" id="synopsis-11">Synopsis</a></h3>
<p>Connect to rancher via the configured identify provider, prompting the user to enter
or choose connection settings and a target cluster once connected.</p>
<p>The kconnect tool generates a kubectl configuration context with a fresh access
token to connect to the chosen cluster and adds a connection history entry to
store the chosen connection settings.  If given an alias name, kconnect will add
a user-friendly alias to the new connection history entry.</p>
<p>The user can then reconnect to the provider with the settings stored in the
connection history entry using the kconnect to command and the connection history
entry ID or alias.  When the user reconnects using a connection history entry,
kconnect regenerates the kubectl configuration context and refreshes their access
token.</p>
<pre><code class="language-bash">kconnect use rancher [flags]
</code></pre>
<h3><a class="header" href="#examples-11" id="examples-11">Examples</a></h3>
<pre><code class="language-bash">  # Discover Rancher clusters using Active Directory
	kconnect use rancher --idp-protocol rancher-ad

	# Discover clusters via Rancher using a API key
	kconnect use rancher --idp-protocol static-token --token ABCDEF
  
  # Reconnect to a cluster by its connection history entry alias.
  kconnect to mycluster

  # Display the user's connection history as a table.
  kconnect ls

</code></pre>
<h3><a class="header" href="#options-11" id="options-11">Options</a></h3>
<pre><code class="language-bash">  -a, --alias string              Friendly name to give to give the connection
      --api-endpoint string       The Rancher API endpoint
  -c, --cluster-id string         Id of the cluster to use.
      --cluster-name string       The Rancher user friendly cluster name
  -h, --help                      help for rancher
      --history-location string   Location of where the history is stored. (default &quot;$HOME/.kconnect/history.yaml&quot;)
      --idp-protocol string       The idp protocol to use (e.g. saml, aad). See flags additional flags for the protocol.
  -k, --kubeconfig string         Location of the kubeconfig to use. (default &quot;$HOME/.kube/config&quot;)
      --max-history int           Sets the maximum number of history items to keep (default 100)
  -n, --namespace string          Sets namespace for context in kubeconfig
      --no-history                If set to true then no history entry will be written
      --password string           The password to use for authentication
      --set-current               Sets the current context in the kubeconfig to the selected cluster (default true)
      --username string           The username used for authentication
</code></pre>
<h3><a class="header" href="#options-inherited-from-parent-commands-10" id="options-inherited-from-parent-commands-10">Options inherited from parent commands</a></h3>
<pre><code class="language-bash">      --config string      Configuration file for application wide defaults. (default &quot;$HOME/.kconnect/config.yaml&quot;)
      --no-input           Explicitly disable interactivity when running in a terminal
      --no-version-check   If set to true kconnect will not check for a newer version
  -v, --verbosity int      Sets the logging verbosity. Greater than 0 is debug and greater than 9 is trace.
</code></pre>
<h3><a class="header" href="#idp-protocol-options-2" id="idp-protocol-options-2">IDP Protocol Options</a></h3>
<h4><a class="header" href="#static-token-options" id="static-token-options">STATIC-TOKEN Options</a></h4>
<p>Use <code>--idp-protocol=static-token</code></p>
<pre><code class="language-bash">      --idp-protocol string   The idp protocol to use (e.g. saml). Each protocol has its own flags.
      --token string          the token to use for authentication
</code></pre>
<h4><a class="header" href="#rancher-ad-options" id="rancher-ad-options">RANCHER-AD Options</a></h4>
<p>Use <code>--idp-protocol=rancher-ad</code></p>
<pre><code class="language-bash">      --api-endpoint string   The Rancher API endpoint
      --idp-protocol string   The idp protocol to use (e.g. saml). Each protocol has its own flags.
      --password string       The password to use for authentication
      --username string       The username used for authentication
</code></pre>
<h3><a class="header" href="#see-also-11" id="see-also-11">SEE ALSO</a></h3>
<ul>
<li><a href="commands/use.html">kconnect use</a>	 - Connect to a Kubernetes cluster provider and cluster.</li>
</ul>
<blockquote>
<p>NOTE: this page is auto-generated from the cobra commands</p>
</blockquote>
<h2><a class="header" href="#kconnect-use-oidc" id="kconnect-use-oidc">kconnect use oidc</a></h2>
<p>Connect to the oidc cluster provider and choose a cluster.</p>
<h3><a class="header" href="#synopsis-12" id="synopsis-12">Synopsis</a></h3>
<p>Connect to oidc via the configured identify provider, prompting the user to enter
or choose connection settings and a target cluster once connected.</p>
<p>The kconnect tool generates a kubectl configuration context with a fresh access
token to connect to the chosen cluster and adds a connection history entry to
store the chosen connection settings.  If given an alias name, kconnect will add
a user-friendly alias to the new connection history entry.</p>
<p>The user can then reconnect to the provider with the settings stored in the
connection history entry using the kconnect to command and the connection history
entry ID or alias.  When the user reconnects using a connection history entry,
kconnect regenerates the kubectl configuration context and refreshes their access
token.</p>
<ul>
<li>Note: kconnect use oidc requires kube-oidc-login and rename to kubectl-oidc_login.
<a href="https://github.com/int128/kubelogin">kube-oidc-login</a></li>
</ul>
<pre><code class="language-bash">kconnect use oidc [flags]
</code></pre>
<h3><a class="header" href="#examples-12" id="examples-12">Examples</a></h3>
<pre><code class="language-bash">
  # Setup cluster for oidc protocol using default config file
  kconnect use oidc

  # Setup cluster for oidc protocol using config url
  kconnect use oidc --config-url https://localhost:8080

  # Setup cluster and add an alias to its connection history entry
  kconnect use oidc --alias mycluster
  
  # Reconnect to a cluster by its connection history entry alias.
  kconnect to mycluster

  # Display the user's connection history as a table.
  kconnect ls

</code></pre>
<h3><a class="header" href="#options-12" id="options-12">Options</a></h3>
<pre><code class="language-bash">  -a, --alias string                Friendly name to give to give the connection
      --ca-cert string              ca cert for configuration url
      --cluster-auth string         cluster auth data
  -c, --cluster-id string           Id of the cluster to use.
      --cluster-url string          cluster api server endpoint
      --config-url string           configuration endpoint
  -h, --help                        help for oidc
      --history-location string     Location of where the history is stored. (default &quot;$HOME/.kconnect/history.yaml&quot;)
      --idp-protocol string         The idp protocol to use (e.g. saml, aad). See flags additional flags for the protocol.
  -k, --kubeconfig string           Location of the kubeconfig to use. (default &quot;$HOME/.kube/config&quot;)
      --max-history int             Sets the maximum number of history items to keep (default 100)
  -n, --namespace string            Sets namespace for context in kubeconfig
      --no-history                  If set to true then no history entry will be written
      --oidc-client-id string       oidc client id
      --oidc-client-secret string   oidc client secret
      --oidc-server string          oidc server url
      --oidc-use-pkce string        if use pkce
      --password string             The password to use for authentication
      --set-current                 Sets the current context in the kubeconfig to the selected cluster (default true)
      --skip-oidc-ssl string        flag to skip ssl for calling oidc server
      --skip-ssl string             flag to skip ssl for calling config url
      --username string             The username used for authentication
</code></pre>
<h3><a class="header" href="#options-inherited-from-parent-commands-11" id="options-inherited-from-parent-commands-11">Options inherited from parent commands</a></h3>
<pre><code class="language-bash">      --config string      Configuration file for application wide defaults. (default &quot;$HOME/.kconnect/config.yaml&quot;)
      --no-input           Explicitly disable interactivity when running in a terminal
      --no-version-check   If set to true kconnect will not check for a newer version
  -v, --verbosity int      Sets the logging verbosity. Greater than 0 is debug and greater than 9 is trace.
</code></pre>
<h3><a class="header" href="#idp-protocol-options-3" id="idp-protocol-options-3">IDP Protocol Options</a></h3>
<h4><a class="header" href="#oidc-options" id="oidc-options">OIDC Options</a></h4>
<p>Use <code>--idp-protocol=oidc</code></p>
<pre><code class="language-bash">      --ca-cert string              ca cert for configuration url
      --cluster-auth string         cluster auth data
      --cluster-url string          cluster api server endpoint
      --config-url string           configuration endpoint
      --oidc-client-id string       oidc client id
      --oidc-client-secret string   oidc client secret
      --oidc-server string          oidc server url
      --oidc-use-pkce string        if use pkce
      --skip-oidc-ssl string        flag to skip ssl for calling oidc server
      --skip-ssl string             flag to skip ssl for calling config url
</code></pre>
<h3><a class="header" href="#see-also-12" id="see-also-12">SEE ALSO</a></h3>
<ul>
<li><a href="commands/use.html">kconnect use</a>	 - Connect to a Kubernetes cluster provider and cluster.</li>
</ul>
<blockquote>
<p>NOTE: this page is auto-generated from the cobra commands</p>
</blockquote>
<h2><a class="header" href="#kconnect-version" id="kconnect-version">kconnect version</a></h2>
<p>Display version &amp; build information</p>
<h3><a class="header" href="#synopsis-13" id="synopsis-13">Synopsis</a></h3>
<p>Display version &amp; build information</p>
<pre><code class="language-bash">kconnect version [flags]
</code></pre>
<h3><a class="header" href="#options-13" id="options-13">Options</a></h3>
<pre><code class="language-bash">  -h, --help   help for version
</code></pre>
<h3><a class="header" href="#options-inherited-from-parent-commands-12" id="options-inherited-from-parent-commands-12">Options inherited from parent commands</a></h3>
<pre><code class="language-bash">      --config string      Configuration file for application wide defaults. (default &quot;$HOME/.kconnect/config.yaml&quot;)
      --no-input           Explicitly disable interactivity when running in a terminal
      --no-version-check   If set to true kconnect will not check for a newer version
  -v, --verbosity int      Sets the logging verbosity. Greater than 0 is debug and greater than 9 is trace.
</code></pre>
<h3><a class="header" href="#see-also-13" id="see-also-13">SEE ALSO</a></h3>
<ul>
<li><a href="commands/index.html">kconnect</a>	 - The Kubernetes Connection Manager CLI</li>
</ul>
<blockquote>
<p>NOTE: this page is auto-generated from the cobra commands</p>
</blockquote>
<h1><a class="header" href="#releasing-kconnect" id="releasing-kconnect">Releasing kconnect</a></h1>
<p>The release of <em>kconnect</em> is done using <a href="https://goreleaser.com/">goreleaser</a> which is orchestrated using Githib Actions.</p>
<h2><a class="header" href="#process" id="process">Process</a></h2>
<p>The following steps are required to do a release:</p>
<ol>
<li>Merge any PRs into the <strong>main</strong> branch that contain features, bug fixes and other changes that you want to include in the release.</li>
<li>We use <a href="https://semver.org/">Semver 2.0</a> for the release numbering. You will need to decide what the next release number will be based on the changes and whether it will be a <em>“pre-release”</em>:
<ul>
<li><em>Normal release</em>: it will follow the MAJOR.MINOR.PATCH format, for example 0.3.0</li>
<li><em>Pre-release</em>: it will follow the MAJOR.MINOR.PATCH-rc.RCNUMBER format, for example 0.3.0-rc.1</li>
</ul>
</li>
<li>Locally on your machine get the latest <strong>main</strong> branch code:</li>
</ol>
<pre><code class="language-bash">git checkout main
git pull
</code></pre>
<ol start="4">
<li>Tag the main branch with the release number previously determined:</li>
</ol>
<pre><code class="language-bash">git tag -a 0.3.0 -m &quot;0.3.0&quot;
</code></pre>
<ol start="5">
<li>Push the new tag to GitHub:</li>
</ol>
<pre><code class="language-bash">git push origin 0.3.0
</code></pre>
<ol start="6">
<li>Go to GitHub and check on the <strong>goreleaser</strong> <a href="https://github.com/fidelity/kconnect/actions?query=workflow%3Agoreleaser">action</a>. This action is what does the actual release.</li>
<li>Once the <strong>goreleaser</strong> action completes go to the <a href="https://github.com/fidelity/kconnect/releases">releases on GitHub</a> and check the release is available.</li>
<li>Click <strong>Edit</strong> next to the release and tidy up the <strong>Changelog</strong> entries. If there are any breaking changes then a new markdown section should be added to the top that documents this.</li>
<li>Locally on your machine, run this command:</li>
</ol>
<pre><code class="language-bash">sudo docker run -v /path/to/repo/.krew.yaml:/tmp/template-file.yaml rajatjindal/krew-release-bot:v0.0.38 krew-release-bot template --tag 0.3.0 --template-file /tmp/template-file.yaml
</code></pre>
<ol start="10">
<li>Take the output of this command (excluding logging output). Update this file https://github.com/fidelity/krew-index/blob/main/plugins/connect.yaml with the output you just obtained (note: these manual steps will be automated in future)</li>
</ol>
<h2><a class="header" href="#implementation" id="implementation">Implementation</a></h2>
<p>We use <a href="https://goreleaser.com/">goreleaser</a> to do the majority of the build, packaging and release. The <a href="https://github.com/fidelity/kconnect/blob/main/.goreleaser.yml">.goreleaser.yml</a> configuration file drives this.</p>
<p>The <strong>goreleaser</strong> GitHub Action that kicks off goreleaser on tagging the main branch is located <a href="https://github.com/fidelity/kconnect/blob/main/.github/workflows/release.yml">here</a>.</p>
<p>There is an additional GitHub workflow that is used to publish the docs to GitHub pages and that is located <a href="https://github.com/fidelity/kconnect/blob/main/.github/workflows/release-docs.yml">here</a>.</p>
<p>Thank you for considering to contribute to kconnect 🎉👍</p>
<p>This document will provide help on how to go about this. You can contribute in the following ways:</p>
<ul>
<li>Reporting bugs</li>
<li>Disclosing security concerns responsibly</li>
<li>Suggesting features</li>
<li>Contributing code</li>
</ul>
<p>All contributions and project spaces are subject to our <a href="https://github.com/fidelity/.github/blob/main/CODE_OF_CONDUCT.md">Code of Conduct</a>.</p>
<h2><a class="header" href="#reporting-bugs" id="reporting-bugs">Reporting Bugs</a></h2>
<p>Reporting bugs is an essential part in making kconnect better for its end users.</p>
<p>Please open an issue <strong>unless</strong> you are making a significant security disclosure. A new <strong>Bug Report</strong> can be raised <a href="https://github.com/fidelity/kconnect/issues/new?assignees=&amp;labels=kind%2Fbug&amp;template=bug_report.md&amp;title=">here</a>.</p>
<p>When raising bugs please include as much information as possible including steps about how to reproduce the problem and what you expect the behavior to be.</p>
<h2><a class="header" href="#how-to-disclose-security-concerns-responsibly" id="how-to-disclose-security-concerns-responsibly">How to disclose security concerns responsibly</a></h2>
<p>Please follow the instructions in our <a href="https://github.com/fidelity/.github/blob/main/SECURITY.md">security policy</a> (also visible in the Security tab on the project’s repo).</p>
<h2><a class="header" href="#suggesting-features" id="suggesting-features">Suggesting features</a></h2>
<p>If there is a feature that you would like in kconnect then please let us know about it.</p>
<p>Features are also suggested using GitHub Issues. A new <strong>Feature enhancement request</strong> can be raised <a href="https://github.com/fidelity/kconnect/issues/new?labels=kind%2Ffeature&amp;template=feature_request.md&amp;title=">here</a>.</p>
<p>Include as much information as possible, understanding the problem that the feature is trying to solve will really help us in understanding the benefit.</p>
<h2><a class="header" href="#contributing-code" id="contributing-code">Contributing Code</a></h2>
<p>Code contributions to kconnect are very welcome as long as you follow a few rules:</p>
<ul>
<li>Your contribution must be received under the project’s open source license.</li>
<li>You must have permission to make the contribution. We strongly recommend including a Signed-off-by line to indicate your adherence to the <a href="https://developercertificate.org/">Developer Certificate of Origin</a>.</li>
<li>All code contributions must be made via PR, and all checks must pass before merging.</li>
</ul>
<p>If you need a pointer on where to start you can look at the <strong>good first issue</strong> and <strong>help wanted</strong> issues:</p>
<ul>
<li><a href="https://github.com/fidelity/kconnect/issues?q=is%3Aissue+is%3Aopen+label%3A%22good+first+issue%22">good first issue</a> - small changes that are suitable for a beginner</li>
<li><a href="https://github.com/fidelity/kconnect/issues?q=is%3Aissue+is%3Aopen+label%3A%22help+wanted%22">help wanted</a> - more involved changes</li>
</ul>
<p>You can also choose your own issue to work on from this list of available issues.</p>
<p>When choosing an issue to work on its preferable that you choose a issue that is planned for the next milestone and that has a higher priority....but this is just a nice to have and any contribution would be considered and welcomed.</p>
<h3><a class="header" href="#getting-started-1" id="getting-started-1">Getting started</a></h3>
<ol>
<li>Install Go &gt;= 1.17</li>
<li>Fork the kconnect repo</li>
<li>Create a branch for your change:</li>
</ol>
<pre><code class="language-bash">git checkout -b &lt;feature-name&gt;
</code></pre>
<ol start="4">
<li>Make the change, including any additional tests</li>
<li>Run the tests:</li>
</ol>
<pre><code class="language-bash">make test
</code></pre>
<ol start="6">
<li>Check for linting errors:</li>
</ol>
<pre><code class="language-bash">make lint
</code></pre>
<ol start="7">
<li>Build and manually test kconnect locally:</li>
</ol>
<pre><code class="language-bash">make build
</code></pre>
<ol start="8">
<li>Commit and push your branch. We follow <a href="https://www.conventionalcommits.org/en/v1.0.0/">Conventional Commits</a> for the commits and PRs.</li>
<li>Create a pull request. If the PR is a work in progress ensure that that <strong>PR is created as a draft</strong>.</li>
<li>Check that the PR checks pass</li>
</ol>
<p>Once a PR has been created it will be reviewed by one of the maintainers of kconnect.</p>
<h2><a class="header" href="#getting-help" id="getting-help">Getting help</a></h2>
<p>If you have other questions about this project, please open an issue. To reach the Fidelity OSPO directly, please email <a href="mailto:opensource@fmr.com">opensource@fmr.com</a>.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        

                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                

                
            </nav>

        </div>

        

        

        

        
        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        

        

        
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        
        
        <script type="text/javascript">
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>
        
        

    </body>
</html>
